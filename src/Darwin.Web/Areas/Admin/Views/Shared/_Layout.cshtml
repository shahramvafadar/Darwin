@inject Darwin.Web.Areas.Admin.Infrastructure.PermissionRazorHelper Perms
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap + Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/9da8b79f46.js" crossorigin="anonymous"></script>

    <!-- Quill v2: use FULL build + snow theme CSS -->
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet">

    <!-- My main CSS -->
    <link href="~/css/main.css" rel="stylesheet" />
</head>
<body class="container py-3">
    <header class="mb-3">
        <h1 class="h3">Darwin Admin</h1>
        <nav class="nav nav-pills flex-column flex-sm-row">
            <a asp-area="Admin" asp-controller="Home" asp-action="Index" class="flex-sm-fill text-sm-center nav-link">
                <i class="bi bi-house-door"></i> Dashboard
            </a> |
            <a asp-area="Admin" asp-controller="Products" asp-action="Index" class="flex-sm-fill text-sm-center nav-link">
                <i class="bi bi-shop"></i> Products
            </a> |
            <a asp-area="Admin" asp-controller="Pages" asp-action="Index" class="flex-sm-fill text-sm-center nav-link">
                <i class="bi bi-file-earmark"></i> Pages
            </a> |
            @if (await Perms.HasAsync("FullAdminAccess"))
            {
                <a asp-area="Admin" asp-controller="SiteSettings" asp-action="Edit" class="flex-sm-fill text-sm-center nav-link">
                    <i class="bi bi-gear"></i> Settings
                </a>
            }
        </nav>
    </header>

    <main>
        <partial name="~/Areas/Admin/Views/Shared/_Alerts.cshtml" />
        @RenderBody()
    </main>

    <!-- jQuery (optional), Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <!-- Quill v2 FULL build (must be before per-view section Scripts) -->
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
          // Enable all Bootstrap popovers on the page (for <field-help>)
          document.querySelectorAll('[data-bs-toggle="popover"]').forEach(function (el) {
            new bootstrap.Popover(el);
          });
        });
    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>
